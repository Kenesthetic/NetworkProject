__author__ = 'jadams'

import paramiko

#Globals
info = []
X = ('')

class automation(object):

    def __init__(self):
            print('Welcome. Lets Automate! \nWe will now start tasks...')

#CSV Creation
    def creation(self):
    print('opening tyler.csv...')
    self.csv = open('tyler.csv', 'r')
    self.csvRead = csv.read()
    self.tylersUpdate = csvRead.splitlines(',')
    self.tylersList = ['ip','username','password','command','md5Hash']
    self.ty = self.tylersList
    print('Completed')


#SSH CONNECTION
    def connection(self):
        print('Opening SSH Connection to tyler.csv Definitions...')
        self.ssh = paramiko.SSHClient()
        self.ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        self.ssh.connect(creation.ty[0], username=creation.ty[1], password=creation.ty[2])
        print('Executing Command')
        stdin , stdout , stderr = ssh.exec_command()
        for line in stdout:
            X = (line.strip())
            info.append(X)
            print(X)
        print('Completed!') 
        print('Closing Connection')
        self.ssh.close()
        print('Enjoy your day')



automation.creation()
automation.connection()

